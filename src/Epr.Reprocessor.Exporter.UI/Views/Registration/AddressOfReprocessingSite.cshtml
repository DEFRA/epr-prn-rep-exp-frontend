@using Epr.Reprocessor.Exporter.UI.App.Constants
@model Epr.Reprocessor.Exporter.UI.ViewModels.AddressOfReprocessingSiteViewModel
@{
    ViewData["Title"] = Localizer["ReprocessingSiteAddressPageTitle"];
    var errorsViewModel = new ErrorsViewModel(ViewData.ModelState.ToErrorDictionary(), Localizer);
}

@section Styles {
    <link href="~/css/AddressRadioButton.css" rel="stylesheet" />
}

<main class="govuk-main-wrapper govuk-!-padding-top-4" id="main-content" role="main">
    <div class="govuk-grid-row">
        <div class="govuk-grid-column-two-thirds">
            <h1 class="govuk-heading-l">
                @Localizer["ReprocessingSiteAddressPageTitle"]
            </h1>
        </div>
    </div>

    @if (!ViewData.ModelState.IsValid)
    {
        @await Html.PartialAsync("Partials/Govuk/_ErrorsViewModelSummary", errorsViewModel)
    }
    <form class="form" action="" method="post">
        @Html.AntiForgeryToken()
        <div class="govuk-grid-row">
            <div class="govuk-grid-column-two-thirds">
                <div class="govuk-form-group">
                    <fieldset class="govuk-fieldset">
                        <legend class="govuk-fieldset__legend govuk-fieldset__legend--l  govuk-visually-hidden">
                                @Localizer["ReprocessingSiteAddressPageTitle"]
                        </legend>

                        <div class="govuk-radios" data-module="govuk-radios">
                            <div class="govuk-radios__item">
                                <input class="govuk-radios__input"
                                       id="same-address"
                                       name="IsSameAddress"
                                       type="radio"
                                       value="true"
                                       for="IsSameAddress"
                                       aria-controls="conditional-contact"
                                        />
                                <label class="govuk-label govuk-radios__label" for="same-address">
                                    @Localizer["SameAsBusinessAddress"]
                                </label>
                                <div class="govuk-radios__conditional" id="conditional-contact">
                                    <div class="govuk-body">
                                        <strong>@Localizer["BusinessAddressCaption"]</strong><br>
                                        @if (!string.IsNullOrEmpty(Model.AddressOfReprocessingSite.AddressLine1))
                                        {
                                            @Model.AddressOfReprocessingSite.AddressLine1

                                            <br>
                                        }
                                        @if (!string.IsNullOrEmpty(Model.AddressOfReprocessingSite.AddressLine2))
                                        {
                                            @Model.AddressOfReprocessingSite.AddressLine2

                                            <br>
                                        }
                                        @if (!string.IsNullOrEmpty(Model.AddressOfReprocessingSite.TownOrCity))
                                        {
                                            @Model.AddressOfReprocessingSite.TownOrCity
                                            @if (!string.IsNullOrEmpty(Model.AddressOfReprocessingSite.County))
                                            {
                                                <text>, @Model.AddressOfReprocessingSite.County</text>
                                            }
                                            <br>
                                        }
                                        else if (!string.IsNullOrEmpty(Model.AddressOfReprocessingSite.County))
                                        {
                                            @Model.AddressOfReprocessingSite.County

                                            <br>
                                        }
                                        @if (!string.IsNullOrEmpty(Model.AddressOfReprocessingSite.Postcode))
                                        {
                                            @Model.AddressOfReprocessingSite.Postcode
                                        }
                                    </div>
                                </div>
                            </div>

                            <div class="govuk-radios__item">
                                <input class="govuk-radios__input"
                                       id="different-address"
                                       name="IsSameAddress"
                                       type="radio"
                                       value="false"
                                       for="IsSameAddress">
                                <label class="govuk-label govuk-radios__label" for="different-address">
                                    @Localizer["DifferentAddress"]
                                </label>
                            </div>
                        </div>
                    </fieldset>
                </div>

                <button type="submit" class="govuk-button" data-module="govuk-button">
                    @SharedLocalizer["Continue"]
                </button>
            </div>
        </div>
    </form>
</main>