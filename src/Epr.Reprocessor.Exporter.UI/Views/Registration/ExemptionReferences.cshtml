@using Epr.Reprocessor.Exporter.UI.ViewModels.Registration

@model ExemptionReferencesViewModel

@{
	// set title for page
	ViewData["Title"] = Localizer["exemption_references_page_title"];
	ViewData["PageDescription"] = Localizer["exemption_references_page_description"];

	var errorsViewModel = new ErrorsViewModel(ViewData.ModelState.ToErrorDictionary(), Localizer);
}

<div class="govuk-width-container">
	<main class="govuk-main-wrapper govuk-!-padding-top-4" id="main-content" role="main">
		<div class="govuk-grid-row">
			<div class="govuk-grid-column-two-thirds">
				@if (!ViewData.ModelState.IsValid)
				{
					@await Html.PartialAsync("Partials/Govuk/_ErrorsViewModelSummary", errorsViewModel)
				}

				<form asp-controller="Registration" asp-action="ExemptionReferences" method="post">
					<div class="govuk-form-group@(!ViewData.ModelState.IsValid ? " govuk-form-group--error" : "")">

						<div class="govuk-form-group">
							<fieldset class="govuk-fieldset">
								<legend class="govuk-fieldset__legend govuk-fieldset__legend--m">
									<h1 class="govuk-fieldset__heading">Enter all your exemption references</h1>
								</legend>								
							</fieldset>
						</div>

						@for (int i = 0; i < Model.ExemptionReferences.Count; i++)
						{
							<div class="govuk-form-group">
								<input class="govuk-input govuk-!-width-one-half" id="one-half" name="ExemptionReferences[@i]" type="text" value="@Model.ExemptionReferences[i]">
							</div>
						}

						<p class="govuk-body">
							<button class="govuk-link govuk-link--no-visited-state" data-module="govuk-button" asp-route-buttonAction="add">
								Add another reference
							</button>

						</p>



						<div class="govuk-form-group">
							<button class="govuk-button" data-module="govuk-button" asp-route-buttonAction="SaveAndContinue">
								@SharedLocalizer["saveandcontinue"]
							</button>
							<button class="govuk-button govuk-button--secondary" data-module="govuk-button" asp-route-buttonAction="SaveAndComeBackLater">
								@SharedLocalizer["saveandcomebacklater"]
							</button>
						</div>
					</div>
				</form>
			</div>
		</div>
	</main>
</div>

