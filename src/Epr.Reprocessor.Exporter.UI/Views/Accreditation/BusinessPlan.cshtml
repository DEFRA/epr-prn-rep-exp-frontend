@{
    ViewData["Title"] = Localizer["title"];
}

<div class="govuk-width-container ">

    <a href="javascript:history.back()" class="govuk-back-link">Back</a>


    <main class="govuk-main-wrapper govuk-!-padding-top-4" id="main-content" role="main">


        <script>
            function updateTotal() {
              const inputs = document.querySelectorAll('input[name="per"]');
              let total = 0;
              inputs.forEach(input => {
                total += parseFloat(input.value) || 0;
              });
              document.getElementById('total').textContent = total + '%';
              if (total === 100) {
                document.getElementById('total').style.color = 'green';
              } else {
                document.getElementById('total').style.color = 'red';
              }
            }
        </script>

        <div class="govuk-grid-row">
            <div class="govuk-grid-column-full">

                <form class="form" action="./spend-prn-income" method="POST">

                    <div class="govuk-form-group">
                        <fieldset class="govuk-fieldset" aria-describedby="changedName-hint">
                            <legend class="govuk-fieldset__legend govuk-fieldset__legend--l">
                                <h1 class="govuk-fieldset__heading">
                                    @Localizer["heading"]
                                </h1>
                            </legend>
                            <div id="changedName-hint" class="govuk-hint">
                                @Localizer["lead_para_1"]
                            </div>
                            <div id="changedName-hint" class="govuk-hint">
                                @Localizer["lead_para_2"]
                            </div>
                            <br>
                            <div class="govuk-form-group">
                                <div class="govuk-form-group">
                                    <h3 class="govuk-label-wrapper">
                                        <label class="govuk-label govuk-label--s" for="weight1">
                                            @Localizer["new_reprocessing_infrastructure"]
                                        </label>
                                    </h3>
                                    <div class="govuk-input__wrapper">
                                        <input class="govuk-input govuk-input--width-5" id="weight1" name="per" type="number" spellcheck="false" oninput="updateTotal()">
                                        <div class="govuk-input__suffix" aria-hidden="true">%</div>
                                    </div>
                                </div>
                                <br>
                                <div class="govuk-form-group">
                                    <h3 class="govuk-label-wrapper">
                                        <label class="govuk-label govuk-label--s" for="weight2">
                                            @Localizer["price_support"]
                                        </label>
                                    </h3>
                                    <div class="govuk-input__wrapper">
                                        <input class="govuk-input govuk-input--width-5" id="weight2" name="per" type="number" spellcheck="false" oninput="updateTotal()">
                                        <div class="govuk-input__suffix" aria-hidden="true">%</div>
                                    </div>
                                </div>
                                <br>
                                <div class="govuk-form-group">
                                    <h3 class="govuk-label-wrapper">
                                        <label class="govuk-label govuk-label--s" for="weight3">
                                            @Localizer["support_for_business_collections"]
                                        </label>
                                    </h3>
                                    <div class="govuk-input__wrapper">
                                        <input class="govuk-input govuk-input--width-5" id="weight3" name="per" type="number" spellcheck="false" oninput="updateTotal()">
                                        <div class="govuk-input__suffix" aria-hidden="true">%</div>
                                    </div>
                                </div>
                                <br>
                                <div class="govuk-form-group">
                                    <h3 class="govuk-label-wrapper">
                                        <label class="govuk-label govuk-label--s" for="weight4">
                                            @Localizer["communications"]
                                        </label>
                                    </h3>
                                    <div class="govuk-input__wrapper">
                                        <input class="govuk-input govuk-input--width-5" id="weight4" name="per" type="number" spellcheck="false" oninput="updateTotal()">
                                        <div class="govuk-input__suffix" aria-hidden="true">%</div>
                                    </div>
                                </div>
                                <br>
                                <div class="govuk-form-group">
                                    <h3 class="govuk-label-wrapper">
                                        <label class="govuk-label govuk-label--s" for="weight5">
                                            @Localizer["developing_new_markets"]
                                        </label>
                                    </h3>
                                    <div class="govuk-input__wrapper">
                                        <input class="govuk-input govuk-input--width-5" id="weight5" name="per" type="number" spellcheck="false" oninput="updateTotal()">
                                        <div class="govuk-input__suffix" aria-hidden="true">%</div>
                                    </div>
                                </div>
                                <br>
                                <div class="govuk-form-group">
                                    <h3 class="govuk-label-wrapper">
                                        <label class="govuk-label govuk-label--s" for="weight6">
                                            @Localizer["developing_new_uses_for_recycled_waste"]
                                        </label>
                                    </h3>
                                    <div class="govuk-input__wrapper">
                                        <input class="govuk-input govuk-input--width-5" id="weight6" name="per" type="number" spellcheck="false" oninput="updateTotal()">
                                        <div class="govuk-input__suffix" aria-hidden="true">%</div>
                                    </div>
                                </div>
                                <br>
                                <div class="govuk-warning-text">
                                    <span class="govuk-warning-text__icon" aria-hidden="true">!</span>
                                    <strong class="govuk-warning-text__text">
                                        <span class="govuk-visually-hidden">Warning</span>
                                        @Localizer["warning_total_must_be_100"]
                                    </strong>
                                </div>
                                <div class="govuk-form-group">
                                    <h3 class="govuk-label-wrapper">
                                        <label class="govuk-label govuk-label--s" for="total">
                                            @Localizer["total_percentage"]
                                        </label>
                                    </h3>
                                    <div class="govuk-input__wrapper">
                                        <span id="total" class="govuk-input govuk-input--width-5">0%</span>
                                    </div>
                                </div>
                            </div>
                        </fieldset>
                    </div>
                    <br>
                    <div class="govuk-button-group">
                    <button class="govuk-button" formaction="./spend-prn-income">
                        @SharedLocalizer["save_and_continue"]
                    </button>
                    <button class=" govuk-button govuk-button--secondary" formaction="application-saved" style="margin-left: 20px;">
                        @SharedLocalizer["save_and_come_back_later"]
                    </button>
                    </div>
                </form>
            </div>






        </div>
    </main>
</div>